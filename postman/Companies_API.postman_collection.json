{
	"info": {
		"_postman_id": "makanezm-companies-api",
		"name": "Makanezm - Companies API",
		"description": "API collection for Company management in Makanezm Backend Laravel\n\nBase URL: {{base_url}}/api/v1\n\nCompanies are resale companies (e.g., Bishwar, Sam, Next) that users can select during resale checkout.\nNote: Companies are just display options - they do NOT affect pricing or profit calculations.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"type": "string"
		},
		{
			"key": "token",
			"value": "",
			"type": "string"
		}
	],
	"item": [
		{
			"name": "Public - Companies",
			"description": "Public endpoints for viewing active companies.\n\nNo authentication required.",
			"item": [
				{
					"name": "List Active Companies",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/companies",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "companies"]
						},
						"description": "Get all active companies for resale checkout.\n\nThis is a PUBLIC endpoint - no authentication required.\n\nOnly returns companies where is_active = true.\n\nUsed during resale checkout to show available companies to the user."
					},
					"response": []
				},
				{
					"name": "Get Company Logo",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/companies/1/logo",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "companies", "1", "logo"]
						},
						"description": "Get company logo as binary image.\n\nThis is a PUBLIC endpoint - no authentication required.\n\nReturns the logo image with proper Content-Type header.\nCan be used directly in <img> tags.\n\nReturns 404 if company has no logo."
					},
					"response": []
				}
			]
		},
		{
			"name": "Admin - Company Management",
			"description": "Admin-only endpoints for managing companies.\n\nAll endpoints require Admin role authentication.",
			"item": [
				{
					"name": "List All Companies",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/admin/companies?page=1&per_page=15",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "admin", "companies"],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number for pagination"
								},
								{
									"key": "per_page",
									"value": "15",
									"description": "Number of items per page (default: 15)"
								},
								{
									"key": "active",
									"value": "true",
									"description": "Filter by active status (true/false)",
									"disabled": true
								}
							]
						},
						"description": "Get a paginated list of ALL companies (including inactive).\n\nOptional query parameters:\n- page: Page number (default: 1)\n- per_page: Items per page (default: 15)\n- active: Filter by active status (true/false)\n\nReturns:\n- companies: Array of company objects\n- pagination: { current_page, last_page, per_page, total }\n\nRequires Admin authentication."
					},
					"response": []
				},
				{
					"name": "Create Company",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "name",
									"value": "Bishwar",
									"description": "Company name (required, unique)",
									"type": "text"
								},
								{
									"key": "activity",
									"value": "E-commerce",
									"description": "Business type/activity",
									"type": "text"
								},
								{
									"key": "store_url",
									"value": "https://bishwar.com",
									"description": "Company store URL",
									"type": "text"
								},
								{
									"key": "is_active",
									"value": "true",
									"description": "Whether company is active (default: true)",
									"type": "text"
								},
								{
									"key": "logo",
									"description": "Company logo image (JPEG, PNG, JPG, GIF, WebP, max 2MB)",
									"type": "file",
									"src": []
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/v1/admin/companies",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "admin", "companies"]
						},
						"description": "Create a new resale company.\n\nRequired fields:\n- name: Company name (must be unique)\n\nOptional fields:\n- logo: Company logo image (JPEG, PNG, JPG, GIF, WebP, max 2MB)\n- activity: Business type/activity description\n- store_url: Company website URL\n- is_active: Whether company is active (default: true)\n\nNote: Use form-data for file upload.\n\nRequires Admin authentication."
					},
					"response": []
				},
				{
					"name": "Create Company (JSON)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Sam Company\",\n    \"activity\": \"Retail\",\n    \"store_url\": \"https://sam.com\",\n    \"is_active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/admin/companies",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "admin", "companies"]
						},
						"description": "Create a new resale company without logo.\n\nRequired fields:\n- name: Company name (must be unique)\n\nOptional fields:\n- activity: Business type/activity description\n- store_url: Company website URL\n- is_active: Whether company is active (default: true)\n\nNote: Use form-data request to upload logo.\n\nRequires Admin authentication."
					},
					"response": []
				},
				{
					"name": "Get Company by ID",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/admin/companies/1",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "admin", "companies", "1"]
						},
						"description": "Get detailed information about a specific company by ID.\n\nReturns:\n- id: Company ID\n- name: Company name\n- logo_url: URL to fetch logo (or null)\n- activity: Business type/activity\n- store_url: Company website URL\n- is_active: Whether company is active\n- created_at: Creation timestamp\n- updated_at: Last update timestamp\n\nRequires Admin authentication."
					},
					"response": []
				},
				{
					"name": "Update Company",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "X-HTTP-Method-Override",
								"value": "PUT",
								"description": "Override POST to PUT for form-data"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "name",
									"value": "Bishwar Updated",
									"description": "Company name (unique)",
									"type": "text"
								},
								{
									"key": "activity",
									"value": "E-commerce & Retail",
									"description": "Business type/activity",
									"type": "text"
								},
								{
									"key": "store_url",
									"value": "https://bishwar.com",
									"description": "Company store URL",
									"type": "text"
								},
								{
									"key": "is_active",
									"value": "true",
									"description": "Whether company is active",
									"type": "text"
								},
								{
									"key": "logo",
									"description": "New company logo image",
									"type": "file",
									"src": []
								},
								{
									"key": "_method",
									"value": "PUT",
									"description": "Method override for Laravel",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/v1/admin/companies/1",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "admin", "companies", "1"]
						},
						"description": "Update an existing company.\n\nAll fields are optional - only include the fields you want to update.\n\nAvailable fields:\n- name: Company name (must be unique, except for current company)\n- logo: New company logo image\n- activity: Business type/activity\n- store_url: Company website URL\n- is_active: Whether company is active\n\nNote: Use _method=PUT for form-data with file upload.\n\nRequires Admin authentication."
					},
					"response": []
				},
				{
					"name": "Update Company (JSON)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Bishwar Updated\",\n    \"activity\": \"E-commerce & Retail\",\n    \"store_url\": \"https://bishwar.com\",\n    \"is_active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/admin/companies/1",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "admin", "companies", "1"]
						},
						"description": "Update an existing company (without changing logo).\n\nAll fields are optional - only include the fields you want to update.\n\nAvailable fields:\n- name: Company name (must be unique, except for current company)\n- activity: Business type/activity\n- store_url: Company website URL\n- is_active: Whether company is active\n\nNote: To update logo, use form-data request.\n\nRequires Admin authentication."
					},
					"response": []
				},
				{
					"name": "Deactivate Company",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"is_active\": false\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/admin/companies/1",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "admin", "companies", "1"]
						},
						"description": "Deactivate a company.\n\nDeactivated companies will not appear in the public companies list.\n\nRequires Admin authentication."
					},
					"response": []
				},
				{
					"name": "Activate Company",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"is_active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/admin/companies/1",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "admin", "companies", "1"]
						},
						"description": "Activate a previously deactivated company.\n\nActivated companies will appear in the public companies list.\n\nRequires Admin authentication."
					},
					"response": []
				},
				{
					"name": "Delete Company",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/admin/companies/1",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "admin", "companies", "1"]
						},
						"description": "Permanently delete a company.\n\nWarning: This action cannot be undone. Consider deactivating instead.\n\nRequires Admin authentication."
					},
					"response": []
				}
			]
		}
	]
}
